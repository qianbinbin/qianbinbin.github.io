<!doctype html><html lang=zh><meta charset=utf-8><meta name=generator content="Hugo 0.136.2"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><link rel=icon href=/favicons/favicon.svg><title>RDM 无法切换 HiDPI 分辨率的一种临时解决办法&nbsp;&ndash;&nbsp;Binac</title><link rel=stylesheet href=/css/core.min.d30edcc615d78b7f8a2a9e5f1b66bd074a7ad2e94b579fa5902d0967ce0f7684b300ef3a9e15d41af82c75f3fb951d4b.css integrity=sha384-0w7cxhXXi3+KKp5fG2a9B0p60ulLV5+lkC0JZ84PdoSzAO86nhXUGvgsdfP7lR1L><meta name=twitter:card content="summary">
<meta name=twitter:title content="RDM 无法切换 HiDPI 分辨率的一种临时解决办法"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><img class="site logo" src=/favicons/favicon.svg alt><span class="site name">Binac</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class='nav item active' href=/posts/ title=文章>文章</a>
<a class='nav item' href=/nonsense/ title=妄言>妄言</a>
<a class='nav item' href=/tuya/ title=涂鸦>涂鸦</a>
<a class='nav item' href=/tags/ title>标签</a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">RDM 无法切换 HiDPI 分辨率的一种临时解决办法</h1><p class="article date">2020-11-08</p></section><article class="article markdown-body"><p>MacBook Pro 外接某 3200x1800 分辨率显示器，默认不开启 HiDPI。使用 <a href=https://github.com/xzhih/one-key-hidpi target=_blank rel="noopener noreferrer">one-key-hidpi</a> 开启 1600x900 的 HiDPI 后，RDM 却无法切换到该分辨率，而且基本上 16:9 的都不行，比如 1080p、1440x810、720p。</p><h2 id=问题原因>问题原因</h2><p>查看日志发现有：</p><pre tabindex=0><code>错误	15:12:51.192852+0800	WindowServer	[ERROR] - CGXCompleteDisplayConfiguration: Monitor 3d005587; Mode -2147471360 not available
</code></pre><p>根据 SwitchResX FAQ<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> 的说法，这是 macOS 的问题：</p><blockquote><p>This is a bug within macOS itself. macOS reports this resolution as available when building the resolution list, but doesn&rsquo;t let you select it. There&rsquo;s nothing to do at this point, and SwitchResX cannot avoid showing this resolution in its list.</p></blockquote><p>简而言之就是 macOS 能够识别却不允许选择，老苹果了，又一次无情地牺牲了第三方配件的体验。</p><h2 id=解决方法>解决方法</h2><p>one-key-hidpi 在开启 HiDPI 后，会创建</p><p><code>/System/Library/Displays/Contents/Resources/Overrides/DisplayVendorID-vid/DisplayProductID-pid</code>：</p><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;
&lt;plist version=&#34;1.0&#34;&gt;
&lt;dict&gt;
	&lt;key&gt;DisplayProductName&lt;/key&gt;
	&lt;string&gt;pn&lt;/string&gt;
	&lt;key&gt;DisplayProductID&lt;/key&gt;
	&lt;integer&gt;pid&lt;/integer&gt;
	&lt;key&gt;DisplayVendorID&lt;/key&gt;
	&lt;integer&gt;vid&lt;/integer&gt;
	&lt;key&gt;scale-resolutions&lt;/key&gt;
	&lt;array&gt;
		&lt;data&gt;AAAO/gAACHAAAAABACAAAA==&lt;/data&gt;
		&lt;data&gt;AAAMfgAABwgAAAABACAAAA==&lt;/data&gt;
		&lt;data&gt;AAALPgAABlQAAAABACAAAA==&lt;/data&gt;
		&lt;data&gt;AAAJ/gAABaAAAAABACAAAA==&lt;/data&gt;
	&lt;/array&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre><p>其中 vid 和 pid 是厂商和型号，不同的显示器会有区别。</p><p><code>scale-resolutions</code> 包括了一系列所添加分辨率等信息的 base64 编码。</p><p>解决办法就是，将 HiDPI 分辨率减少或增加一个像素，使其不同于 macOS 识别到的。例如，添加 3198x1800，在使用 HiDPI 后就缩放到 1599x900。类似地，如需 1919x1080 的 HiDPI，只需添加 3838x2160 即可，其它依此类推。</p><p>上面 <code>scale-resolutions</code> 中的四个是我手动添加的，从上到下依次为：3838x2160、3198x1800、2878x1620、2558x1440。</p><p>使用在线工具，更为直观：<a href=https://comsysto.github.io/Display-Override-PropertyList-File-Parser-and-Generator-with-HiDPI-Support-For-Scaled-Resolutions/ target=_blank rel="noopener noreferrer">Scaled Resolutions for your MacBooks external monitor | by Comsysto Reply</a></p><p>添加完成后重启，RDM 就可以成功识别并切换到对应的 HiDPI 分辨率了。</p><p>另外，通过修改 EDID 来增加分辨率应该也是可行的，不过比较麻烦，这里就不介绍了。</p><h2 id=参考资料>参考资料</h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.madrau.com/support/support/faq_files/ns_I_want_to_use_a_HiDPI_resolutio.html target=_blank rel="noopener noreferrer">I want to use a HiDPI resolution that is half the native size of the monitor, but this doesn&rsquo;t work</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article><section class="article labels"><a class=tag href=/tags/macos/>macOS</a></section><section class="article license"><p xmlns:cc=http://creativecommons.org/ns# style=text-align:center>本作品根据 <a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel="license noopener noreferrer" style=display:inline-block>署名-非商业性使用-相同方式共享 4.0 国际许可<img style=height:15px!important;margin-left:1px;vertical-align:text-bottom src=/cc-icons/cc.svg><img style=height:15px!important;margin-left:1px;vertical-align:text-bottom src=/cc-icons/by.svg><img style=height:15px!important;margin-left:1px;vertical-align:text-bottom src=/cc-icons/nc.svg><img style=height:15px!important;margin-left:1px;vertical-align:text-bottom src=/cc-icons/sa.svg></a> 进行授权。</p></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/ostep-intro/><span class="iconfont icon-article"></span>OSTEP 介绍</a></p><p><a class=link href=/posts/opencore-efi-for-lenovo-thinkcentre-m73-tiny-desktop/><span class="iconfont icon-article"></span>自制 OpenCore EFI 让联想 M73 Tiny 吃上黑苹果</a></p></section><section class="article discussion"><script>function loadComment(){let e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","qianbinbin/qianbinbin.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("theme","preferred-color-scheme"),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),document.querySelector("section.article.discussion").innerHTML="",document.querySelector("section.article.discussion").appendChild(e)}loadComment(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{loadComment()})</script></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>© 2017-2024 Binac.</p></div></section><script async src="https://www.googletagmanager.com/gtag/js?id=G-N7VZY53PLB"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-N7VZY53PLB")}</script><script src=https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js></script><script>addBackToTop({diameter:42})</script></body></html>